<div class="content-wrapper">
    <div class="content-header row">
        <div class="col-12 mb-2">
            <div class="row breadcrumbs-top">
                <div class="col-12">
                    <h2 class="content-header-title float-left mb-0">Consumos de créditos</h2>
                    <div class="breadcrumb-wrapper">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a class="text-primary" href="index.html">Inicio</a>
                            </li>
                            <li class="breadcrumb-item"><a class="text-primary" href="mis-premios.html">Consumos de
                                créditos autónomos</a>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="content-body">
        <!-- users list start -->
        <section class="app-user-list">
            <div class="card card-company-table">
                <div class="row m-75">
                    <div class="col-lg-12 col-xl-6">
                        <label>Mostrar</label>
                        <select class="form-control-sm" [(ngModel)]="page_size" (click)="obtenerSolicitudesCreditos()">
                            <option value="4">4</option>
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>

                    </div>
                </div>
                <div class="card-datatable table-responsive pt-0">
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>NOMBRE DE LA PYME</th>
                            <th>USUARIO</th>
                            <th>NOMBRES DEL USUARIO</th>
                            <th>APELLIDOS DEL USUARIO</th>
                            <th>NOMBRE DEL PROVEEDOR</th>
                            <th>MONTO A PAGAR</th>
                            <th>FACTURA</th>
                            <th>COMPROBANTE FIRMADO DE LA SOLICITUD DE PAGO A PROVEEDOR</th>
                            <th>ESTADO DE LA FIRMA</th>
                            <th>ACCIONES</th>
                        </tr>
                        </thead>
                        <tbody>

                        <tr *ngFor="let credito of listaCreditos">
                            <td>{{credito.nombreProveedor}}</td>
                            <td>{{transformarObjecto(credito.usuario,'email')}}</td>
                            <td>{{transformarObjecto(credito.usuario,'nombres')}}</td>
                            <td>{{transformarObjecto(credito.usuario,'apellidos')}}</td>
                            <td>{{credito.nombreProveedor}}</td>
                            <td>{{credito.valorPagar}}</td>
                            <td><a [href]="credito.factura" >Enlace</a></td>
                            <td><a [href]="credito.archivoFirmado" >Enlace</a></td>
                            <td>{{credito.estado}}</td>
                            <td>
                                <a href="javascript:void(0);" data-toggle="modal" data-target="#modals-slide-in" (click)="seguroNegarModal(credito._id)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-50">
                                        <polyline points="21 8 21 21 3 21 3 8"></polyline>
                                        <rect x="1" y="3" width="22" height="5"></rect>
                                        <line x1="10" y1="12" x2="14" y2="12"></line>
                                    </svg>
                                </a>
                                <a href="javascript:void(0);" (click)="enviarProcesar(credito._id)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-50">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path
                                                d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                        </path>
                                        <line x1="10" y1="11" x2="10" y2="17"></line>
                                        <line x1="14" y1="11" x2="14" y2="17"></line>
                                    </svg>
                                </a>
                            </td>
                        </tr>

                        </tbody>
                    </table>
                </div>
                <ngb-pagination #paginator [collectionSize]="collectionSize" [(page)]="page" [pageSize]="page_size"
                                [maxSize]="5" [ellipses]="false" [boundaryLinks]="true"></ngb-pagination>
            </div>
            <!-- list section end -->
        </section>
        <!-- users list ends -->
    </div>
</div>

<ng-template #negarMdl let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Mensaje</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss( 'Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p>USTED VA A NEGAR ESTE PAGO A PROVEEDORES, INGRESE LA RAZÓN:</p>
        <input type="text" [(ngModel)]="observacion">
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="enviarNegar()">Negar</button>
        <button type="button" class="btn btn-light" (click)="modal.dismiss( 'Cross click')">Cancelar</button>
    </div>
</ng-template>
