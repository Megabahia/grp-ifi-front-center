<div *ngIf="pantalla === 0" class="content-wrapper">
    <div class="content-header row">
        <div class="col-12 mb-2">
            <div class="row breadcrumbs-top">
                <div class="col-12">
                    <h2 class="content-header-title float-left mb-0">Solicitud de créditos empleados</h2>
                    <div class="breadcrumb-wrapper">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a class="text-primary" href="index.html">Inicio</a>
                            </li>
                            <li class="breadcrumb-item"><a class="text-primary" href="mis-premios.html">Solicitud de
                                créditos empleados</a>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="content-body">
        <!-- users list start -->
        <section class="app-user-list">
            <div class="card card-company-table">
                <div class="profile-header-nav">
                    <!-- navbar -->
                    <nav class="navbar navbar-expand-md navbar-light justify-content-end justify-content-md-between w-100">
                        <button class="btn btn-icon navbar-toggler" type="button" data-toggle="collapse"
                                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                                aria-expanded="false" aria-label="Toggle navigation">
                            <i data-feather="align-justify" class="font-medium-5"></i>
                        </button>

                        <!--/ collapse  -->
                        <div class="col-12" style="text-align: right">
                            <label>Mostrar</label>
                            <select class="form-control-sm" [(ngModel)]="page_size"
                                    (change)="obtenerSolicitudesCreditos()">
                                <option value="4">4</option>
                                <option value="10">10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                        </div>
                    </nav>
                    <!--/ navbar -->

                </div>


            </div>
            <!-- list section end -->
        </section>
        <section class="app-user-list">
            <div class="card-datatable table-responsive pt-0">
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th>Fecha de creación</th>
                        <th>Razón social (pyme)</th>
                        <th>RUC pyme</th>
                        <th>Monto ACTUAL pre-aprobado</th>
                        <th>Documentos</th>
                        <th>Estado</th>
                        <th>Solicitud de crédito</th>
                        <th>Observaciones</th>
                        <th>Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let credito of listaCreditos">
                        <td>{{transformarFecha(credito.created_at)}}</td>
                        <td>{{credito.razonSocial}}</td>
                        <td>{{credito.rucEmpresa}}</td>
                        <td>{{credito.monto}}</td>
                        <td>
                            <button type="button" class="btn btn-outline-primary"
                                    rippleEffect
                                    (click)="verDocumentos(credito)">Ver
                            </button>
                        </td>
                        <td>
                            <div class="badge badge-light-success">{{credito.estado}}</div>
                        </td>
                        <td>
                            <button *ngIf="isObjectEmpty(credito.empresaInfo)" type="button" (click)="viewDataUser(modalSLC,credito.empresaInfo)"
                                    class="btn btn-outline-primary"
                                    rippleEffect>
                                Enlace
                            </button>
                        </td>
                        <td>{{credito.observacion}}</td>


                        <td class="d-flex">
                            <a *ngIf="credito.estado == 'Nuevo'" href="javascript:void(0)" class="avatar bg-info mr-1" data-target="#gestionar"
                               data-toggle="modal" (click)="verDocumentos(credito)">
                                <div class="avatar-content" data-toggle="tooltip" data-placement="bottom"
                                     title="" data-original-title="Aprobar/Rechazar">
                                    <i data-feather='check-circle'></i>
                                </div>
                            </a>
                            <!--                            <a *ngIf="credito.estado == 'Datos completos'" href="javascript:void(0)" class="avatar bg-info mr-1" data-target="#gestionar"-->
                            <!--                               data-toggle="modal" (click)="checks(checksCreditoMdl, credito._id)">-->
                            <!--                                <div class="avatar-content" data-toggle="tooltip" data-placement="bottom"-->
                            <!--                                     title="" data-original-title="Aprobar/Rechazar">-->
                            <!--                                    <i data-feather='check-circle'></i>-->
                            <!--                                </div>-->
                            <!--                            </a>-->
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <ngb-pagination #paginator [collectionSize]="collectionSize" [(page)]="page"
                            [maxSize]="5" [ellipses]="false" [boundaryLinks]="true"></ngb-pagination>
        </section>
        <!-- users list ends -->
    </div>
</div>


<!-- INICIO MODAL USER -->
<ng-template #modalSLC let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel1">Buró de crédito</h4>
        <button type="button" class="close" (click)="modal.dismiss('Cross click')" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="card-body text-left">

        <form class="auth-login-form mt-2" [formGroup]="formSolicitud">
            <h3>
                DATOS GENERALES DE TU EMPRESA:
            </h3>
            <div class="row">

                <div class="col-md-4">
                    <div class="form-group">
                        <label>Nombre del representante legal: value={{ this.empresa.reprsentante }}
                        </label>
                        <input type="text"
                               class="form-control"
                               disabled
                               [value]="empresa.reprsentante">
                    </div>

                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>RUC de la empresa:
                        </label>
                        <input type="text" formControlName="rucEmpresa"
                               class="form-control"
                               value="{{this.empresa.rucEmpresa}}" disabled>
                    </div>


                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Nombre comercial de la empresa:
                        </label>
                        <input type="text" formControlName="comercial"
                               class="form-control"
                               value="" disabled>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Actividad económica :
                        </label>
                        <input type="text" formControlName="actividadEconomica"
                               class="form-control"
                               value=""
                               disabled>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>
                            Dirección del domicilio del representante legal de la empresa :
                        </label>
                        <input type="text" formControlName="direccionDomiciolRepresentante"
                               class="form-control"
                               value=""
                               disabled>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Dirección del negocio o empresa :
                        </label>
                        <input type="text" formControlName="direccionEmpresa"
                               class="form-control"
                               value=""
                               disabled>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label>
                            Referencia del domicilio (en la descripción de la ventana
                            escribir: por ejemplo, barrio San Miguel. Frente a la tienda Mi
                            Vecino):
                        </label>
                        <input type="text" formControlName="referenciaDomicilio"
                               class="form-control"
                               value="" disabled>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>
                            Estado civil:
                        </label>
                        <select #teams
                                class="form-control select2" formControlName="esatdo_civil" disabled
                        >
                            <option value="">- Seleccione -</option>
                            <option value="Soltero">- Soltero -</option>
                            <option value="Casado">- Casado -</option>
                            <option value="Divorciado">- Divorciado -</option>
                        </select>
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Teléfono convencional:
                        </label>
                        <input type="text" formControlName="telefono"
                               class="form-control"
                               value="" disabled>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Teléfono celular:
                        </label>
                        <input type="text" formControlName="celular"
                               class="form-control"
                               value="" disabled>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>
                            Correo electrónico:
                        </label>
                        <input type="text" formControlName="correo"
                               class="form-control"
                               value="" disabled>
                    </div>
                </div>
            </div>
            <!--Conyuge-->
            <div class="row">

                <div *ngIf="casado">
                    <h3>
                        Datos cónyuge:
                    </h3>
                    <br>
                    <form class="auth-login-form mt-2" [formGroup]="controlsContuge">

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>
                                        Nombres y apellidos:
                                    </label>
                                    <input type="text" formControlName="nombreConyuge"
                                           class="form-control"
                                           value="" disabled>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Teléfono celular:
                                    </label>
                                    <input type="text" formControlName="telefonoConyuge"
                                           class="form-control"
                                           value="" disabled>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Correo electrónico:
                                    </label>
                                    <input type="text" formControlName="correoConyuge"
                                           class="form-control"
                                           value="" disabled>
                                </div>

                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <h3>
                        REFERENCIAS FAMILAIRES:
                    </h3>
                </div>
                <div class="col-4"></div>


            </div>
            <ng-container formArrayName="familiares">
                <ng-container
                        *ngFor="let familiar of formSolicitud.get('familiares')['controls']; let i = index">
                    <h5>
                        Familair {{i + 1}}:
                    </h5>
                    <div [formGroup]="familiar">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>
                                        Nombre
                                    </label>
                                    <input type="text" formControlName="nombreFamiliar"
                                           class="form-control"
                                           value="" disabled>
                                </div>
                            </div>
                            <!--                                                        <div *ngIf="submitted && controlsFrom.nombreFamiliar.errors"-->
                            <!--                                                             class="invalid-feedback"-->
                            <!--                                                             style="display: block;">-->
                            <!--                                                            <div *ngIf="controlsFrom.nombreFamiliar.errors.required">-->
                            <!--                                                                Nombre-->
                            <!--                                                                referencia familiar es-->
                            <!--                                                                requerido-->
                            <!--                                                            </div>-->
                            <!--                                                        </div>-->

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>
                                        Apellido
                                    </label>
                                    <input type="text" formControlName="apellidoFamiliar"
                                           class="form-control"
                                           value="" disabled>
                                </div>
                            </div>
                            <!--                                                        <div *ngIf="submitted && controlsFrom.apellidoFamiliar.errors"-->
                            <!--                                                             class="invalid-feedback"-->
                            <!--                                                             style="display: block;">-->
                            <!--                                                            <div *ngIf="controlsFrom.apellidoFamiliar.errors.required">-->
                            <!--                                                                Apellido-->
                            <!--                                                                referencia familiar es-->
                            <!--                                                                requerido-->
                            <!--                                                            </div>-->
                            <!--                                                        </div>-->


                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>
                                        Teléfono:
                                    </label>
                                    <input type="text" formControlName="telefonoFamiliar"
                                           class="form-control"
                                           value="" disabled>
                                </div>
                            </div>
                            <!--                                                        <div *ngIf="submitted && controlsFrom.telefonoFamiliar.errors"-->
                            <!--                                                             class="invalid-feedback"-->
                            <!--                                                             style="display: block;">-->
                            <!--                                                            <div *ngIf="controlsFrom.telefonoFamiliar.errors.required">-->
                            <!--                                                                Teléfono-->
                            <!--                                                                referencia familiar es-->
                            <!--                                                                requerido-->
                            <!--                                                            </div>-->
                            <!--                                                        </div>-->


                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>
                                        Dirección:
                                    </label>
                                    <input type="text" formControlName="direccionFamiliar"
                                           class="form-control"
                                           value="" disabled>
                                </div>
                            </div>
                            <!--                                                        <div *ngIf="submitted && controlsFrom.direccionFamiliar.errors"-->
                            <!--                                                             class="invalid-feedback"-->
                            <!--                                                             style="display: block;">-->
                            <!--                                                            <div *ngIf="controlsFrom.direccionFamiliar.errors.required">-->
                            <!--                                                                Dirección-->
                            <!--                                                                del familiar es-->
                            <!--                                                                requerido-->
                            <!--                                                            </div>-->
                            <!--                                                        </div>-->
                        </div>

                    </div>
                </ng-container>
            </ng-container>
            <h3>
                INGRESOS Y GASTOS DEL NEGOCIO:
            </h3>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label>
                            Ingresos mensuales en ventas (valor):
                        </label>
                        <input type="text" formControlName="inresosMensualesVentas"
                               class="form-control"
                               value="" disabled>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Sueldo cónyuge (de ser casado) (VALOR):
                        </label>
                        <input type="text" formControlName="sueldoConyuge"
                               class="form-control"
                               value="" disabled>
                    </div>

                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Otros ingresos (valor) :
                        </label>
                        <input type="text" formControlName="otrosIngresos"
                               class="form-control"
                               value="" disabled>
                    </div>

                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Gastos mensuales en compras para el negocio (valor) :
                        </label>
                        <input type="text" formControlName="gastosMensuales"
                               class="form-control"
                               value="" disabled>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Gastos familiares (valor)
                        </label>
                        <input type="text" formControlName="gastosFamilaires"
                               class="form-control"
                               value="" disabled>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>
                            Especifique otros ingresos (ejemplo: vendo artículos de revista
                            en mi tiempo libre, etc.)
                        </label>
                        <input type="text" formControlName="especificaIngresos"
                               class="form-control"
                               value="" disabled>
                    </div>

                </div>
            </div>

        </form>

    </div>


    <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="modal.close('Accept click')" rippleEffect>
            Cerrar
        </button>
    </div>
</ng-template>
<!-- FIN MODAL USER-->

<app-revision-documentos *ngIf="pantalla === 1" (pantalla)="cambiarEstado($event)"
                         [checks]="checks"></app-revision-documentos>

<div *ngIf="pantalla === 2" class="slideout-content">
    <!-- Modal to add new user starts-->
    <form class="add-new-user modal-content pt-0" [formGroup]="actualizarCreditoForm">
        <div class="modal-header mb-1">
            <h5 class="modal-title" id="exampleModalLabel">MICROCRÉDITO PREAPROBADO
            </h5>
        </div>
        <div class="modal-body flex-grow-1">

            <div class="form-group">
                <label>Copia de cédula Representante Legal</label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkIdentificacion">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkIdentificacion"
                           formControlName="checkIdentificacion"/>
                    <a *ngIf="credito.identificacion" href="{{credito.identificacion}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkIdentificacion.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkIdentificacion.errors.required">
                            Copia de cédula requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>RUC del negocio</label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkRuc">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkRuc"
                           formControlName="checkRuc"/>
                    <a *ngIf="credito.ruc" href="{{credito.ruc}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkRuc.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkRuc.errors.required">
                            Ruc es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="!this.ingresoNegocioSuperior">
                <label>Foto tamaño carnet</label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkFotoCarnet">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkFotoCarnet"
                           formControlName="checkFotoCarnet"/>
                    <a *ngIf="credito.fotoCarnet" href="{{credito.fotoCarnet}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkFotoCarnet.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkFotoCarnet.errors.required">
                            Foto tamaño carnet es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>Copia de papeleta de votación Representante Legal</label>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkPapeletaVotacion">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkPapeletaVotacion"
                           formControlName="checkPapeletaVotacion"/>
                    <a *ngIf="credito.papeletaVotacion" href="{{credito.papeletaVotacion}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkPapeletaVotacion.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkPapeletaVotacion.errors.required">Papeleta de votación es
                            requerido
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="!soltero" class="form-group">
                <label>Copia de cédula de cónyuge</label>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkIdentificacionConyuge">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkIdentificacionConyuge"
                           formControlName="checkIdentificacionConyuge"/>
                    <a *ngIf="credito.identificacionConyuge" href="{{credito.identificacionConyuge}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkIdentificacionConyuge.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkIdentificacionConyuge.errors.required">Copia de cédula y Ruc es
                            requerido
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="!soltero" class="form-group">
                <label>Copia de papeleta de votación cónyuge</label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkPapeletaVotacionConyuge">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkPapeletaVotacionConyuge"
                           formControlName="checkPapeletaVotacionConyuge"/>
                    <a *ngIf="credito.papeletaVotacionConyuge" href="{{credito.papeletaVotacionConyuge}}"
                       target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkPapeletaVotacionConyuge.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkPapeletaVotacionConyuge.errors.required">Copia de cédula y Ruc es
                            requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="!this.ingresoNegocioSuperior">
                <label>
                    Copia de planilla de luz del domicilio
                </label>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkPlanillaLuzDomicilio">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkPlanillaLuzDomicilio"
                           formControlName="checkPlanillaLuzDomicilio"/>
                    <a *ngIf="credito.planillaLuzDomicilio" href="{{credito.planillaLuzDomicilio}}"
                       target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkPlanillaLuzDomicilio.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkPlanillaLuzDomicilio.errors.required">
                            Copia de planilla de luz del Negocio, y domicilio es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="!this.ingresoNegocioSuperior">
                <label>
                    Copia de planilla de luz del Negocio
                </label>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkPlanillaLuzNegocio">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkPlanillaLuzNegocio"
                           formControlName="checkPlanillaLuzNegocio"/>
                    <a *ngIf="credito.planillaLuzNegocio" href="{{credito.planillaLuzNegocio}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkPlanillaLuzNegocio.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkPlanillaLuzNegocio.errors.required">
                            Copia de planilla de luz del Negocio, y domicilio es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="!this.ingresoNegocioSuperior">
                <label>
                    Copia de Factura de Ventas del negocio del último mes (factura de hace 1 mes)
                </label>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkFacturasVentas2meses">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkFacturasVentas2meses"
                           formControlName="checkFacturasVentas2meses"/>
                    <a *ngIf="credito.facturasVentas2meses" href="{{credito.facturasVentas2meses}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkFacturasVentas2meses.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkFacturasVentas2meses.errors.required">Facturas de Ventas últimos 2
                            meses es
                            requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="!this.ingresoNegocioSuperior">
                <label>
                    Copia de Factura de Ventas del negocio del penúltimo mes (factura de hace 2 meses)
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkFacturasVentas2meses2">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkFacturasVentas2meses2"
                           formControlName="checkFacturasVentas2meses2"/>
                    <a *ngIf="credito.facturasVentas2meses2" href="{{credito.facturasVentas2meses2}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkFacturasVentas2meses2.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkFacturasVentas2meses2.errors.required">Facturas de Ventas últimos 2
                            meses es
                            requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="!this.ingresoNegocioSuperior">
                <label>
                    Copia de Factura de Compra del negocio del último mes (factura de hace 1 mes)
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkFacturasCompras2meses">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkFacturasCompras2meses"
                           formControlName="checkFacturasCompras2meses"/>
                    <a *ngIf="credito.facturasCompras2meses" href="{{credito.facturasCompras2meses}}"
                       target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkFacturasCompras2meses.errors"
                         class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkFacturasCompras2meses.errors.required">Facturas de Ventas es
                            requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="!this.ingresoNegocioSuperior">
                <label>
                    Copia de Factura de Compra del negocio del penúltimo mes (factura de hace 2 meses)
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkFacturasCompras2meses2">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkFacturasCompras2meses2"
                           formControlName="checkFacturasCompras2meses2"/>
                    <a *ngIf="credito.facturasCompras2meses2" href="{{credito.facturasCompras2meses2}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkFacturasCompras2meses2.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkFacturasCompras2meses2.errors.required">
                            Factura pendiente es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="!this.ingresoNegocioSuperior">
                <label>
                    Factura pendiente de pago del proveedor
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkFacturasPendiente">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkFacturasPendiente"
                           formControlName="checkFacturasPendiente"/>
                    <a *ngIf="credito.facturasPendiente" href="{{credito.facturasPendiente}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkFacturasPendiente.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkFacturasPendiente.errors.required">
                            Factura pendiente es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="!this.ingresoNegocioSuperior">
                <label>
                    Copia de matrícula del vehículo (obligatorio)
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkMatriculaVehiculo">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkMatriculaVehiculo"
                           formControlName="checkMatriculaVehiculo"/>
                    <a *ngIf="credito.matriculaVehiculo" href="{{credito.matriculaVehiculo}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkMatriculaVehiculo.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkMatriculaVehiculo.errors.required">Copia de matrícula del vehículo
                            es
                            requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="!this.ingresoNegocioSuperior">
                <label>
                    Copia de pago de impuesto predial o copia de escrituras
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkImpuestoPredial">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkImpuestoPredial"
                           formControlName="checkImpuestoPredial"/>
                    <a *ngIf="credito.impuestoPredial" href="{{credito.impuestoPredial}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkImpuestoPredial.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkImpuestoPredial.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Nombramiento del Representante Legal inscrito en el Registro Mercantil
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkNombramientoRepresentante">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkNombramientoRepresentante"
                           formControlName="checkNombramientoRepresentante"/>
                    <a *ngIf="credito.nombramientoRepresentante" href="{{credito.nombramientoRepresentante}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkNombramientoRepresentante.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkNombramientoRepresentante.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Certificado de cumplimiento de la Superintendencia de Compañías
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkCertificadoSuperintendencia">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkCertificadoSuperintendencia"
                           formControlName="checkCertificadoSuperintendencia"/>
                    <a *ngIf="credito.certificadoSuperintendencia" href="{{credito.certificadoSuperintendencia}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkCertificadoSuperintendencia.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkCertificadoSuperintendencia.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Certificado de cumplimiento de obligaciones patronales con el IESS. (En caso de que la empresa no
                    cuente con empleados se requiere una declaración juramentada)
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkCertificadoPatronales">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkCertificadoPatronales"
                           formControlName="checkCertificadoPatronales"/>
                    <a *ngIf="credito.certificadoPatronales" href="{{credito.certificadoPatronales}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkCertificadoPatronales.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkCertificadoPatronales.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Nómina de socios y/o accionistas
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkNominaSocios">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkNominaSocios"
                           formControlName="checkNominaSocios"/>
                    <a *ngIf="credito.nominaSocios" href="{{credito.nominaSocios}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkNominaSocios.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkNominaSocios.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Acta de Junta General u órgano competente autorizando la contratación del crédito
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkActaJuntaGeneral">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkActaJuntaGeneral"
                           formControlName="checkActaJuntaGeneral"/>
                    <a *ngIf="credito.actaJuntaGeneral" href="{{credito.actaJuntaGeneral}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkActaJuntaGeneral.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkActaJuntaGeneral.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Certificado bancario
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkCertificadoBancario">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkCertificadoBancario"
                           formControlName="checkCertificadoBancario"/>
                    <a *ngIf="credito.certificadoBancario" href="{{credito.certificadoBancario}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkCertificadoBancario.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkCertificadoBancario.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Dos referencias comerciales (en caso de importaciones adjuntar copias de facturas)
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkReferenciasComerciales">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkReferenciasComerciales"
                           formControlName="checkReferenciasComerciales"/>
                    <a *ngIf="credito.referenciasComerciales" href="{{credito.referenciasComerciales}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkReferenciasComerciales.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkReferenciasComerciales.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Balance de pérdidas y ganancias
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkBalancePerdidasGanancias">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkBalancePerdidasGanancias"
                           formControlName="checkBalancePerdidasGanancias"/>
                    <a *ngIf="credito.balancePerdidasGanancias" href="{{credito.balancePerdidasGanancias}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkBalancePerdidasGanancias.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkBalancePerdidasGanancias.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Balance de resultados
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkBalanceResultados">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkBalanceResultados"
                           formControlName="checkBalanceResultados"/>
                    <a *ngIf="credito.balanceResultados" href="{{credito.balanceResultados}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkBalanceResultados.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkBalanceResultados.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Declaración del IVA de los últimos seis meses
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkDeclaracionIva">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkDeclaracionIva"
                           formControlName="checkDeclaracionIva"/>
                    <a *ngIf="credito.declaracionIva" href="{{credito.declaracionIva}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkDeclaracionIva.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkDeclaracionIva.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group" *ngIf="this.ingresoNegocioSuperior">
                <label>
                    Estados de cuenta de tarjeta de crédito (empresas unipersonales)
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkEstadoCuentaTarjeta">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkEstadoCuentaTarjeta"
                           formControlName="checkEstadoCuentaTarjeta"/>
                    <a *ngIf="credito.estadoCuentaTarjeta" href="{{credito.estadoCuentaTarjeta}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkEstadoCuentaTarjeta.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkEstadoCuentaTarjeta.errors.required">
                            Copia de pago de impuesto predial es requerido
                        </div>
                    </div>
                </div>
            </div>

            <!--inputs-->
            <div class="form-group">
                <label for="solicitudCredito">Procesar solicitud de crédito</label>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="solicitudCredito"
                           formControlName="solicitudCredito"
                           (change)="subirDoc( $event, 'solicitudCredito')"
                           accept="application/pdf"/>
                    <label class="custom-file-label"
                           for="solicitudCredito">{{actualizarCreditoForm.get('solicitudCredito').value}}</label>
                    <div *ngIf="submitted && controlsFrom.solicitudCredito.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.solicitudCredito.errors.required">Procesar solicitud de crédito es
                            requerido
                        </div>
                    </div>
                </div>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkSolicitudCredito">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkSolicitudCredito"
                           formControlName="checkSolicitudCredito"/>
                    <a *ngIf="credito.solicitudCredito" href="{{credito.solicitudCredito}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkSolicitudCredito.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkSolicitudCredito.errors.required">Procesar solicitud de crédito
                            es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="evaluacionCrediticia">Cargar evaluación crediticia</label>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="evaluacionCrediticia"
                           formControlName="evaluacionCrediticia"
                           (change)="subirDoc( $event, 'evaluacionCrediticia')"
                           accept="image/jpeg,image/png,application/pdf"/>
                    <label class="custom-file-label"
                           for="evaluacionCrediticia">{{actualizarCreditoForm.get('evaluacionCrediticia').value}}</label>
                    <div *ngIf="submitted && controlsFrom.evaluacionCrediticia.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.evaluacionCrediticia.errors.required">Cargar evaluación crediticia es
                            requerido
                        </div>
                    </div>
                </div>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkEvaluacionCrediticia">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkEvaluacionCrediticia"
                           formControlName="checkEvaluacionCrediticia"/>
                    <a *ngIf="credito.evaluacionCrediticia" href="{{credito.evaluacionCrediticia}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkEvaluacionCrediticia.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkEvaluacionCrediticia.errors.required">Cargar evaluación crediticia
                            es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="codigoClienteCreado">Cliente creado</label>
                <div class="custom-file">
                    <input type="number" class="form-control" id="codigoClienteCreado"
                           formControlName="codigoClienteCreado"
                           value="{{actualizarCreditoForm.get('codigoClienteCreado').value}}"
                    />
                    <div *ngIf="submitted && controlsFrom.codigoClienteCreado.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.codigoClienteCreado.errors.required">Cliente creado es
                            requerido
                        </div>
                    </div>
                </div>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkCodigoClienteCreado">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkCodigoClienteCreado"
                           formControlName="checkCodigoClienteCreado"/>
                    <div *ngIf="submitted && controlsFrom.checkCodigoClienteCreado.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkCodigoClienteCreado.errors.required">Cliente creado
                            es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="codigoCuentaCreada">Cuenta creada</label>
                <div class="custom-file">
                    <input type="number" class="form-control" id="codigoCuentaCreada"
                           formControlName="codigoCuentaCreada"
                           value="{{actualizarCreditoForm.get('codigoCuentaCreada').value}}"
                    />
                    <div *ngIf="submitted && controlsFrom.codigoCuentaCreada.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.codigoCuentaCreada.errors.required">Cuenta creada es
                            requerido
                        </div>
                    </div>
                </div>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkCodigoCuentaCreada">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkCodigoCuentaCreada"
                           formControlName="checkCodigoCuentaCreada"/>
                    <div *ngIf="submitted && controlsFrom.checkCodigoCuentaCreada.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkCodigoCuentaCreada.errors.required">Cuenta creada
                            es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="buroCreditoIfis">Cargar Buró</label>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="buroCreditoIfis"
                           formControlName="buroCreditoIfis"
                           (change)="subirDoc( $event, 'buroCreditoIfis')"
                           accept="image/jpeg,image/png,application/pdf"/>
                    <label class="custom-file-label"
                           for="buroCreditoIfis">{{actualizarCreditoForm.get('buroCreditoIfis').value}}</label>
                    <div *ngIf="submitted && controlsFrom.buroCreditoIfis.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.buroCreditoIfis.errors.required">Cargar Buró es requerido
                        </div>
                    </div>
                </div>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkBuroCreditoIfis">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkBuroCreditoIfis"
                           formControlName="checkBuroCreditoIfis"/>
                    <a *ngIf="credito.buroCreditoIfis" href="{{credito.buroCreditoIfis}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkBuroCreditoIfis.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkBuroCreditoIfis.errors.required">Cargar Buró es
                            requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="calificacionBuroIfis">Calificación de Buró de Crédito</label>
                <div class="custom-file">
                    <input type="number" class="form-control" id="calificacionBuroIfis"
                           formControlName="calificacionBuroIfis"
                           value="{{actualizarCreditoForm.get('calificacionBuroIfis').value}}"
                    />
                    <div *ngIf="submitted && controlsFrom.calificacionBuroIfis.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.calificacionBuroIfis.errors.required">Calificación de Buró de Crédito
                            es
                            requerido
                        </div>
                    </div>
                </div>

                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkCalificacionBuroIfis">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkCalificacionBuroIfis"
                           formControlName="checkCalificacionBuroIfis"/>

                    <div *ngIf="submitted && controlsFrom.checkCalificacionBuroIfis.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkCalificacionBuroIfis.errors.required">Calificación de Buró de
                            Crédito
                            es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>
                    Buró crediticio (GRP-BP)
                </label>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkBuroCredito">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkBuroCredito"
                           formControlName="checkBuroCredito"/>
                    <a *ngIf="credito.buroCredito" href="{{credito.buroCredito}}" target="_blank">
                        Ver
                    </a>
                    <div *ngIf="submitted && controlsFrom.checkBuroCredito.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkBuroCredito.errors.required">
                            Buró crediticio (GRP-BP) es requerido
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>Calificación de Buró GRP</label>
                <div class="custom-file">
                    <input type="number" class="form-control" id="calificacionBuro"
                           formControlName="calificacionBuro"
                           disabled
                    />

                    <div *ngIf="submitted && controlsFrom.calificacionBuro.errors"
                         class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.calificacionBuro.errors.required">Calificación de Buró es
                            requerido
                        </div>
                    </div>
                </div>
                <div class="custom-file">
                    <label class="form-check-label mr-2" for="checkCalificacionBuro">Valido</label>
                    <input class="form-check-input" type="checkbox" id="checkCalificacionBuro"
                           formControlName="checkCalificacionBuro"/>
                    <div *ngIf="submitted && controlsFrom.checkCalificacionBuro.errors" class="invalid-feedback"
                         style="display: block;">
                        <div *ngIf="controlsFrom.checkCalificacionBuro.errors.required">Calificación de Buró es
                            requerido
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <div class="mt-2">
        <button class="btn btn-primary mr-1" (click)="actualizarSolicitudCredito('Aprobado')"
                [disabled]="cargando">Aprobado
        </button>
        <button class="btn btn-primary mr-1" (click)="actualizarSolicitudCreditoNegado('Negado')"
                [disabled]="cargando">Negado
        </button>
        <button class="btn btn-outline-secondary"
                (click)="cancelar()"
                data-dismiss="modal">Cancelar
        </button>
    </div>
</div>
<app-valores-proceso *ngIf="pantalla === 3" (pantalla)="cambiarEstado($event)"
                     [credito]="credito"></app-valores-proceso>
<app-resumen *ngIf="pantalla === 4" (pantalla)="cambiarEstado($event)" [credito]="credito"></app-resumen>

